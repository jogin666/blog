## 分布式，集群、微服务概念介绍

最近开始准备学习微服务方面的知识，在网上浏览蛮多的博客了，发现了几个蛮重要的概念，其中一篇是写很不

错，因此就转载过来：<a href="https://blog.csdn.net/qq_37788067/article/details/79250623">集群,分布式，微服务概念和区别理解</a>（有稍微改动）。



**1、概念**

集群是物理形态的定义，分布式是业务的工作方式。

* 集群：集中多个资源处理相同类型的业务。如服务器集群：将同一个业务分别部署在多个服务器上（集中资源

  处理业务）。

* 分布式：将一个业务大型拆分成多个子业务，每个子业务分别部署在不同的服务器上。

**2、分布式，集群概念理解**

分布式是指将将大型业务拆分成多个子业务，然后将每个子业务分别部署在不同的服务器。而集群是其中多个资源

处理相同的业务。**分布式的每一个节点（子业务）都可以做集群，但是集群不一定是分布式。**举个列子：就比如

新浪网，访问的人多了，就做成集群。前面放一个响应式服务器，将新浪的业务部署在多个服务器上，让多个服务

器共同处理相同的业务。当有业务请求到响应式服务器时，响应式服务器查看其名下管理的服务器中哪个服务器的

负载比较轻松，就将当前请求交给其处理。而对于分布式，将新浪根据业务类型分成多个业务，分别部署在不同的

服务器上（将热门业务采用集群，防止一个服务器宕，无法处理业务）。



或者这样说：**分布式是以缩短单个任务处理的时间来提供效率，而集群则是通过提高单位时间内的处理任务的数量**

**来提高效率**。举个不是很恰当的例子：如果有10个业务待处理（而每个业务由10个子业务构成），每个任务单独

执行需1个小时（每个子任务需要6分钟），则在一台服务器上执行该任务需 10 小时。**采用分布式分案解决**：将业

务拆分成10个子任务，然后部署到10台服务器上，那么执行完这个大型业务则只需要1个小时（不考虑业务的依赖

关系）。[这种工作模式的一个典型代表就是Hadoop的Map/Reduce分布式计算模型]。**采用集群的分案解决**：将

业务部署到10个服务器上，每个服务器处理一个业务，这样完成的10个任务只需要1个小时。



值得一说的是：好的设计都应该是分布式和集群的结合，先分布式然后集群。具体实现是：将业务查分成多个子业

务，然后对子任务进行集群部署，这样如果其中一个子任务出现问题，整个系统完全不受影响。



**3、微服务架构**

好了，分布式与集群的概念讲完了，接下就是微服务了。微服务与分布式很类似，但微服务是一种**架构风格**，当一

个大型单体应用由多个业务组成且多个业务之间是松耦合的，可独立部署，那就应该使用微服务架构。将大型单体

应有划分成多个微服务，且多个微服务独立部署。让每一个微服务仅关注自身处理的业务，并很好的完成自身业务

。注：微服务架构中的 **微服务** 中的 **微** 并不是指业务很小很小，而是指功能单一（微服务架构与微服务是不一样

的东西，微服务是一种职责单一，专注于本身业务的服务）。



**4、区别**

* 集群

![img](https://upload-images.jianshu.io/upload_images/14923231-e5901eac92bfd9f9.png?imageMogr2/auto-orient/strip|imageView2/2/w/649/format/webp)

集群模式是不同服务器部署统一到服务对外提供访问服务，实现服务的负载均衡。辨认集群的方式是根据部署多台

服务器业务是否相同。**注**：集群模式需要做好 *session* 共享，确保不同服务器切换的过程中不会因为没有获得 

*session* 而相应请求，提供服务。（客户端再次发起请求时，可能是不同的服务器接收请求）一般集群模式是配

置Nginx的负载容器实现：静态资源缓存，*Session* 共享可以附带实现，Nginx支持5000个并发量。

* 分布式

![img](https://upload-images.jianshu.io/upload_images/14923231-942c24c7fbfef9ad.png?imageMogr2/auto-orient/strip|imageView2/2/w/624/format/webp)

将一个大的系统划分为多个业务模块，业务模块分别部署到不同的机器上，各个业务模块之间通过进行接口

（RPC）进行数据交互。辨认分布式的方式是根据不同的机器部署的业务是否是不同的业务。注：上面：service 

A、B、C、D 分别是业务组件，通过 *API Geteway* 进行业务访问。**分布式需要做好事务管理**（要保证不同服务器上

的数据库中的数据是一致）。分布式事务可参考：[微服务架构的分布式事务解决方案](https://my.oschina.net/838398/blog/761261)

* 分布式是否属于微服务

分布式一定是微服务，但微服务不一定是分布式。分布式是将一个业务拆分多个子业务，然后部署到不同的服务器

上。微服务是将系统（系统业务）拆分多个独立子系统（业务），然后部署到服务器上，但可以部署到同一个服务

器，也可以部署到不同的服务器上。

* 微服务架构

微服务的设计不是为解决某个模块的升级或 *bug* 影响现有的系统业务，而是为了让每一个业务更加专注的处理自

己本身的业务。微服务与分布式的区别：**在本质上来说：分布式是系统部署分式，微服务是架构分式**。实际点来

说：分布式是将不同业务部署在不同服务器上，微幅不一定部署在不同的服务器上，总的来说就是：业务部署方

式不一样，进一步区别的话：微服务的粒度更小，服务之间耦合度更低，如果每个微服务是由独立的小团队负责，

那微服务的敏捷性更高。

![img](https://upload-images.jianshu.io/upload_images/14923231-ea329e068eebe3dd.png?imageMogr2/auto-orient/strip|imageView2/2/w/1014/format/webp)

**5、微服务架构与SOA架构的区别于联系**

* SOA（Service Oriented Architecture），

  是面型服务的一种架构，将系统拆分成多个子系统或者说服务，服务与服务之间通过数据总线进行数据交换，

  完成原系统的功能。SOA中架构的服务通常独立于操作系统与计算机语言。

  如果对SOA架构不了解的话，传送门：<a herf="">浅谈SOA架构</a>

* 区别于联系

  对于SOA架构与微服务架构，首先肯定的是微服务与SOA是同出一脉的，或者确切的说微服务架构是在SOA架

  构的升华的产物，但两者之间的区别还是蛮大的。首先两个架构分别强调的是不同的重点，SOA强调水平划分

  ，而微服务强调的垂直划分（业务需要彻底的组件化和服务化）；其次两者的划分的粒度也不一样，SOA是粗

  粒度划分的服务，微服务是细粒度分化服务；第三两者的重量级不一样，SOA是较重量级的架构，微服务是轻

  量级的架构。

  总的来说：**微服务架构 = 80%的SOA服务架构思想 + 100%的组件化架构思想 + 80%的领域建模思想**。

  如果觉得看不过隐的话，传送门：<a href="https://blog.csdn.net/zpoison/article/details/80729052">SOA架构和微服务架构的区别</a>

  



最后，也推荐一篇好文：<a href="https://blog.csdn.net/zhonglunsheng/article/details/83153451">一分钟弄懂什么是分布式和微服务</a>